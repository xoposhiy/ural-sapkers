= Общие сведения об игре =

ИГРА — классический Bomberman [http://en.wikipedia.org/wiki/Bomberman]
== Цель игры ==
1. Побеждает тот, кто набрал больше очков.

2. Очки дают за уничтожение объектов (точного определения пока нет) - по 10 очков и за уничтожение других игроков - по 1000 очков (судя по-всему, это практически гарантирует выигрыш). За суицид снимают 1000 очков.


== Протокол общения игроков с сервером ==
1. Клиент и сервер посылают друг другу сообщения в строго определенном формате (см. [SapkaProtocol]). Каждое сообщение/команда завершается символом ';'.

2. Игра проходит в реальном (или почти реальном) времени. То есть никакой очередности в посылке сообщений нет - сервер живет по своим часам и независимо от действий клиента отправляет ему информацию о происходящих событиях.

3. Игра состоит из нескольких раундов (в доступном нам сервере их всегда 3). Раунды нумеруются с 1. Первый раунд начинается командой сервера game-info: {{{PID<номер игрока>&<map-info>}}} (Игроки нумеруются с 0). Последующие раунды начинаются командой start-round-info: {{{START<номер раунда>&<map-info>}}}.

4. Раунд заканчивается командой finish-round-info: {{{REND<пробел><очки>}}}. Последний раунд и игра заканчиваются командой finish-game-info: {{{GEND<пробел><rank-score-info>}}}.

5. По ходу игры сервер оповещает игроков о происходящем на поле при помощи команды map-change-info: {{{T<время>&<sapkas-part>&<changes-part>[&<danger-part>]}}}. Number after 'T' defines the internal server time (in ticks). One tick is about 50 milliseconds. (см. файл interesting/clock.txt)


== Игровое поле ==
1. Игра протекает на квадратном поле, начальное состояние которого задается в файле из каталога maps, на который указывает настройка server.properties.map.

2. У каждой ячейки поля есть размер - он задается при старте очередного раунда игры командой map-info: {{{<map-cell-size><перевод строки><начальное состояние поля на нескольких строках>}}}.

3. Изначально поле заполнено символами '.' (по-видимому, означает пустую клетку), 'w' (уничтожаемая субстанция), или 'X' (неуничтожаемая субстанция).

4. По ходу игры на поле могут появляться и другие предметы:
 * '`*`' - Бомба, поставленная одним из игроков. Взрывается через 40 тиков после постановки.
 * '#' - Взрыв бомбы. Держится 3 тика. Распространяется лучами в четыре стороны на заданное расстояние.
 * Позитивные бонусы:
  * 'b' - consumable substance, that can be processed into annihilator
  * 'v' - consumable substance, that affects engine speed
  * 'f' - consumable substance, that affects annihilator strength
 * Остальные бонусы:
  * 'r' - consumable substance, that temporarly moving controls
  * 's' - consumable substance, that temporarly decrease engine speed
  * 'u' - consumable substance, that temporarly blocks ability to place anihilators
  * 'o' - consumable substance, that temporarly significally decrease anihilator strength
 * '?' - обозначает объект неизвестного типа (в частности, когда игра начинается без включения конфигурационных токенов, то все непустые ячейки поля показываются вопросиками).


== Команды клиента ==
{{{
Format -->    command ::= [ <move-command> ] [ <action-command> ] ';'
              move-command ::= 'l' | 'r' | 'u' | 'd' | 's'
              action-command ::= 'b'
Where
 l, r, u, d - commands to move left, right, up, and down correspondently.
     s      - command to stop an engine (совершенно непонятно, что это значит).
     b      - command to set up annihilator (кажется, понятия 'annihilator', 'bomb' и 'dangerous substance' эквивалентны).
Examples : r; lb; b; sb;
}}}

== Вопросы для исследования==
  # Можно ли передвигаться по бомбам?
  # Как ломаются стены взрывами? На всю длину луча или только ближайшая к бомбе стенка?
  # В сообщении сервера о постановке бомбы указывается время ЧЕРЕЗ которое бомба сдетанирует, или время В которое бомба сдетанирует?
  # Зависит ли длительность жизни взрыва от его мощности?
